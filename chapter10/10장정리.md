# 10장 객체지향 쿼리 언어

---

## 10.1 객체지향 쿼리 소개
다음은 가장 단순한 검색방법이다.
+ 식별자로 조회 EntityManager.find()
+ 객체 그래프 탐색(예:a.getB().getC())

이 두가지 검색방법만으로 애플리케이션을 개발하기는 어렵다.

<br> 예를들어 회원테이블에서 나이가 30살 이상인 회원을 조회하고 싶을때 
모든 회원 엔티티를 메모리에 올려두고 에플리케이션에서 30살 이상인 회원을 검색하는 것은 현실성이 없다.

<br> 따라서 좀 더 현실적이고 복잡한 검색 방법이 필요한데 결국 데이터는 데이터베이스에 있으므로 SQL로 
필요한 내용을 최대한 걸러서 조회해야 한다.
<br> 그런데 ORM을 사용하면 테이블이 아닌 엔티티 개체로 개발하므로 테이블 대상이 아닌 엔티티 객체 대상으로 하는 방법이 필요하다.
<br> 이 문제를 해결하기 위해 만들어진 것이 `JPQL`이며, 다음과 같은 특징이 있다.

+ 테이블이 아닌 객체를 대상으로 검색하는 객체지향 쿼리
+ SQL을 추상화해서 특정 데이터베이스 SQL에 의존하지 않는다.

SQL이 데이터베이스 테이블을 대상으로 하는 데이터 중심의 쿼리라면 JPQL은 엔티티 객체를 대상으로 하는 객체지향 쿼리이다.
<br> JPQL을 사용하면 JPA는 이 JPQL을 분석한 다음 적절한 SQL을 만들어 데이터베이스를 조회한다. 그리고 조회한 결과로
엔티티 객체를 생성해서 반환한다. 

JPQL을 한마디로 정의하면 객체지향 SQL이라고할 수 있으며 SQL 문법이 비슷하여 몇가지 차이점만 이해하면 쉽게 적응이 가능하다.



